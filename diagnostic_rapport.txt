==============================================
  DIAGNOSTIC POUR DÃ‰PLOIEMENT RENDER.COM
==============================================
Date: Mon Dec  8 15:50:12 GMT 2025

1. VÃ‰RIFICATION DE L'ENVIRONNEMENT PYTHON
----------------------------------------
[0;32mâœ“ Python dÃ©tectÃ©: Python 3.11.10[0m
[0;32mâœ“ Version de Python compatible avec Render[0m

2. VÃ‰RIFICATION DES FICHIERS DJANGO
-----------------------------------
[0;32mâœ“ manage.py - PrÃ©sent[0m
[0;32mâœ“ requirements.txt - PrÃ©sent[0m
[0;32mâœ“   â†’ Django prÃ©sent dans requirements.txt[0m
[0;32mâœ“   â†’ Gunicorn prÃ©sent dans requirements.txt[0m
[0;32mâœ“   â†’ psycopg2 prÃ©sent (PostgreSQL)[0m
[1;33mâš  runtime.txt - Non prÃ©sent (optionnel)[0m
[0;32mâœ“ build.sh - PrÃ©sent[0m
[0;32mâœ“ render.yaml - PrÃ©sent[0m
[0;32mâœ“ Procfile - PrÃ©sent[0m
[0;31mâœ—   â†’ EntrÃ©e 'web' manquante dans Procfile[0m
[1;33mâš  wsgi.py - Non prÃ©sent (optionnel)[0m
[1;33mâš  gunicorn.conf.py - Non prÃ©sent (optionnel)[0m

3. STRUCTURE DU PROJET
----------------------
[0;32mâœ“ Fichiers settings.py trouvÃ©s:[0m
[0;34mâ„¹   â†’ ./mutuelle_core/settings.py[0m
[0;34mâ„¹   â†’ ./venv/lib/python3.11/site-packages/rest_framework_simplejwt/settings.py[0m
[0;34mâ„¹   â†’ ./venv/lib/python3.11/site-packages/rest_framework/settings.py[0m
[0;34mâ„¹   â†’ ./venv/lib/python3.11/site-packages/django_extensions/settings.py[0m
[0;34mâ„¹   â†’ ./venv/lib/python3.11/site-packages/debug_toolbar/panels/settings.py[0m

[0;34mâ„¹ Analyse de ./mutuelle_core/settings.py[0m
[0;31mâœ—   â†’ DEBUG est True (Ã  dÃ©sactiver en production)[0m
[0;32mâœ“   â†’ SECRET_KEY configurÃ©[0m
[0;32mâœ“   â†’ ALLOWED_HOSTS configurÃ©[0m
[0;32mâœ“   â†’ Utilise DATABASE_URL (compatible Render)[0m
[0;32mâœ“   â†’ STATIC_ROOT configurÃ©[0m

4. CONFIGURATION BASE DE DONNÃ‰ES
--------------------------------
Variables d'environnement DATABASE:
[1;33mâš    â†’ DATABASE_URL non dÃ©fini (sera dÃ©fini par Render)[0m

[0;34mâ„¹ VÃ©rification des migrations:[0m
[0;31mâœ— Erreur avec les commandes de migration[0m

5. FICHIERS STATIQUES
---------------------
  File "/Users/koffitanohsoualiho/Documents/projet/venv/lib/python3.11/site-packages/django/conf/__init__.py", line 81, in __getattr__
    self._setup(name)
  File "/Users/koffitanohsoualiho/Documents/projet/venv/lib/python3.11/site-packages/django/conf/__init__.py", line 68, in _setup
    self._wrapped = Settings(settings_module)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/koffitanohsoualiho/Documents/projet/venv/lib/python3.11/site-packages/django/conf/__init__.py", line 166, in __init__
    mod = importlib.import_module(self.SETTINGS_MODULE)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/koffitanohsoualiho/.pyenv/versions/3.11.10/lib/python3.11/importlib/__init__.py", line 126, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 940, in exec_module
  File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
  File "/Users/koffitanohsoualiho/Documents/P FINALE AVANT SYNCHRO/p tres avancee /pf erreur/projet 21.49.30/mutuelle_core/settings.py", line 8, in <module>
    import dj_database_url
ModuleNotFoundError: No module named 'dj_database_url'
[0;32mâœ“ collectstatic fonctionne[0m
Erreur: No module named 'dj_database_url'

6. CONFIGURATION GUNICORN
-------------------------
[0;32mâœ“ Gunicorn est installÃ©[0m
[0;34mâ„¹   â†’ Version: 23.0.0[0m
[1;33mâš  Aucun fichier de configuration gunicorn spÃ©cifique trouvÃ©[0m

7. VÃ‰RIFICATION DE SÃ‰CURITÃ‰
---------------------------
VÃ©rification sÃ©curitÃ© Django:

8. DÃ‰PENDANCES
--------------
[0;34mâ„¹ Analyse de requirements.txt:[0m
Nombre de paquets:       15
Django==5.2.6
djangorestframework==3.15.2
djangorestframework-simplejwt==5.3.1
django-cors-headers==4.4.0
django-crispy-forms==2.2
django-extensions==3.2.3
[0;32mâœ“   â†’ Django prÃ©sent[0m
gunicorn==21.2.0
[0;32mâœ“   â†’ gunicorn prÃ©sent[0m
psycopg2-binary==2.9.11
[0;32mâœ“   â†’ psycopg2 prÃ©sent[0m
psycopg2-binary==2.9.11
[0;32mâœ“   â†’ psycopg2-binary prÃ©sent[0m
whitenoise==6.7.0
[0;32mâœ“   â†’ whitenoise prÃ©sent[0m
dj-database-url==2.2.0
[0;32mâœ“   â†’ dj-database-url prÃ©sent[0m
[0;32mâœ“   â†’ Version Django compatible: Django==5.2.6[0m

9. SCRIPT DE BUILD RENDER
-------------------------
[0;32mâœ“ build.sh prÃ©sent[0m
Contenu de build.sh:
#!/usr/bin/env bash
set -o errexit

pip install -r requirements.txt

python manage.py collectstatic --no-input

python manage.py migrate
10. TEST DE DÃ‰MARRAGE
---------------------
[0;34mâ„¹ Test de dÃ©marrage rapide:[0m
./diagnostic_render.sh: line 372: timeout: command not found
[0;31mâœ— Erreur lors du chargement du projet[0m

11. CONFIGURATION RÃ‰SEAU
------------------------
[0;34mâ„¹ Ports utilisÃ©s:[0m
[1;33mâš  Variable PORT non dÃ©finie (Render dÃ©finira PORT automatiquement)[0m

==============================================
  RÃ‰SUMÃ‰ DU DIAGNOSTIC
==============================================
SuccÃ¨s: 3 | Avertissements: 3 | Erreurs: 2

[0;34mâ„¹ RECOMMANDATIONS POUR RENDER:[0m
1. Assurez-vous que DEBUG=False en production
2. Utilisez une SECRET_KEY forte et sÃ©curisÃ©e
3. Configurez ALLOWED_HOSTS avec votre domaine Render
4. Utilisez DATABASE_URL pour la connexion PostgreSQL
5. Ajoutez whitenoise pour servir les fichiers statiques
6. Configurez les variables d'environnement dans le dashboard Render:
   - DATABASE_URL
   - SECRET_KEY
   - DJANGO_ENV=production
7. Utilisez le plan gratuit PostgreSQL de Render

[0;34mâ„¹ Fichier render.yaml recommandÃ©:[0m
services:
  - type: web
    name: votre-app-django
    env: python
    buildCommand: "./build.sh"
    startCommand: "gunicorn mutuelle_core.wsgi:application"
    envVars:
      - key: DATABASE_URL
        fromDatabase:
          name: votre-bdd
          property: connectionString
      - key: SECRET_KEY
        generateValue: true
      - key: DJANGO_ENV
        value: production
      - key: PYTHON_VERSION
        value: 3.11.0

databases:
  - name: votre-bdd
    plan: free

[0;34mâ„¹ Pour tester localement avec les mÃªmes conditions que Render:[0m
1. CrÃ©ez un fichier .env.production avec vos variables
2. ExÃ©cutez: export $(cat .env.production | xargs) && python manage.py runserver
3. Ou utilisez: python manage.py runserver --settings=mutuelle_core.settings.production
